<!DOCTYPE html>
<html>
   <head>
   		<link rel="stylesheet" href="./Script/style.css">
      <style>
         @font-face {font-family: tour;src: url('./Font/nintendoP_NTLG-NR-DB_003.ttf');}
         @font-face {font-family: headername;src: url('./Font/nintendoP_NTLG-NR-UB_003.ttf');}
         @font-face {font-family: headername2;src: url('./Font/nintendop_ntlg-nr-ub_003.otf') format('opentype');}
      </style>
      <link rel="preload" href="./Images/UI/Loading.png" as="image"> 
   </head>
   <body class="main" style="height: 100%" id="bigbody">
      <img id="loadingimg" src="./Images/UI/Loading.png" style="position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 1000;">
      <div id="inventorymodal" class="inventorymodal">
  <!-- Modal content -->
      <div id="singleinv" class="inventorymodal-content stripedbg">
      <!--<span class="inventorymodalclose">&times;</span>
      <p>Some text in the Modal..</p>-->

      </div>

      </div>
      <div style="margin: 0px auto;width: 630px;right: 0;left: 0;">
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupdata.png" style="width: 100px;height: 100px;" onclick="changemode(1)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Enter Data </p>
         </div>
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupinventory.png" style="width: 100px;height: 100px;" onclick="changemode(2)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Inventory </p>
         </div>
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupcourse.png" style="width: 100px;height: 100px;" onclick="changemode(3)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Courses </p>
         </div>
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupvalues.png" style="width: 100px;height: 100px;" onclick="changemode(4)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Missing </p>
         </div>
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupranked.png" style="width: 100px;height: 100px;/*filter: brightness(30%);*/" onclick="changemode(6)">
            <img id="rankcupimg" style="width: 60px;height: 60px;position: absolute;margin-left: -80px;margin-top: 20px;display:none;" onclick="changemode(6)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Ranked </p>
         </div>
         <div style="width: 100px;height: 120px;display: inline-block;">
            <img src="./Images/UI/cupsettings.png" style="width: 100px;height: 100px;" onclick="changemode(5)">
            <p class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Settings </p>
         </div>
      </div>
      <div style="margin: 0px auto;width: 1000px;height: calc(100vh - 150px);overflow-y: scroll;overflow-x: hidden;right: 0;left: 0;   background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;border: 5px solid #b5ceff;" id="content">
         <div id="intro" style="height: auto;">
            <h3 class="blackoutline"style="font-family: tour;font-size: 36px;text-align: center;">Landing Page</h3>
            <div> </div>
            <p class="landingpagetxt" style="text-align: center;">Welcome!</p>
            <p class="landingpagetxt" style="text-align: center;">The functions of the site break down into the 5 tabs at the top: </p>
            <p class="landingpagetxt">1. Enter Data</p>
            <p class="landingpagetxt">This tab is optional, but entering your levels from your game will help you get a better representation of whatâ€™s going to be better for you, as well as help you figure out what courses you are missing top shelves on.</p>
            <p class="landingpagetxt">2. Inventory</p>
            <p class="landingpagetxt">Here you can click on the Drivers Karts and Gliders to check values similarly to how you would in game. </p>
            <p class="landingpagetxt">3. Courses</p>
            <p class="landingpagetxt">This section allows you to view the top shelves of courses, and if you enter your data, you can compare with just the characters you own. You can also specify an item to reveal all of the courses for.</p>
            <p class="landingpagetxt">4. Missing</p>
            <p class="landingpagetxt">This option is separate because it focuses on everything that you are missing, and only shows that in a simple place.</p>
            <p class="landingpagetxt">5. Settings</p>
            <p class="landingpagetxt">These are for options such as disabling city tracks in the value count, or disabling the character panel to focus on just the tracks in the inventory tab.</p>
            <p class="landingpagetxt" style="text-align: center;">Hope this helps!</p>

         </div>
         <div id="data" style="height: auto;display:none;">
         	<div style="position: sticky;top: 0;z-index: 30;background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;"> 
            <h3 style="font-family: tour;width: 100px;display: inline-block;margin-left: 10px;">Data</h3>
            <div style="background-color: rgba(0, 0, 0, 0.3);padding:10px;">
               <input type="file" id="inputsavedata" style="height: 30px;"><button style="float: right;width: 150px;height: 30px;" onclick="downloadsavedata()">Download Save Data</button>
            </div>
        </div>
         </div>
         <div id="inventory" style="height: auto;display:none;">
            <div style="background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;padding:10px;display:block;width: 970px;right: 0;left: 0;margin: 0px auto;margin-bottom: 10px;/*border: 5px solid #b5ceff;*//*position: sticky;*/top: 0;z-index: 30;">
               <h3 class='whiteoutline' style="font-family: tour;font-size: 24px;width: 100px;display: inline-block;margin-bottom: 30px;">Inventory</h3>
               <div id="itembtns" style="display: inline-block;position: relative;margin-top: -10px;margin-left: 600px;">
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;">
                     <img id='driversbtn' src="./Images/UI/invcharbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changeckg(0)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Drivers </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 75px;">
                     <img id='kartsbtn' src="./Images/UI/invkartbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changeckg(1)"> 
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Karts </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 150px;">
                     <img id='glidersbtn' src="./Images/UI/invglidebtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changeckg(2)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Gliders </p>
                  </div>
               </div>
               <div style="position: relative;">
                  <div id="inventorychar" style=""></div>
                  <div id="inventorykart"></div>
                  <div id="inventoryglider"></div>
               </div>
            </div>
            <div id="inventoryshelves" style="display:block;width: auto;text-align: center;background-color: rgba(0, 0, 0, 0.3);padding:0px;">
            </div>
         </div>
         <div id="courses" style="height: auto;display:none;">
         	<div style="background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;padding:10px;display:block;width: 970px;right: 0;left: 0;margin: 0px auto;margin-bottom: 10px;/*border: 5px solid #b5ceff;*/position: sticky;top: 0;z-index: 30;">
               <h3 class='whiteoutline' style="font-family: tour;font-size: 24px;width: 100px;display: inline-block;margin-bottom: 30px;">Courses</h3>

               <div id="courseitembtnscourses" style="display: inline-block;position: relative;margin-top: -10px;margin-left: 200px;">
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;">
                     <img id='coursedriversbtn' src="./Images/UI/invcharbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecourseckg(0)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Drivers </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 75px;">
                     <img id='coursekartsbtn' src="./Images/UI/invkartbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecourseckg(1)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Karts </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 150px;">
                     <img id='courseglidersbtn' src="./Images/UI/invglidebtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecourseckg(2)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Gliders </p>
                  </div>
               </div>

               <div id="removeselected" style="width: 90px;height: 120px;display: inline-block;position:absolute;margin-left: 160px;margin-top: -90px">
                     <img id='deleteall' src="./Images/UI/xbtn.png" style="width: 50px;height: 50px;display: inline-block;margin-left: 20px" onclick="removeselected()">
                     <p style="margin-top: -5px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;line-height: 20px;"> Delete All Selected </p>
                  </div>

               <div id="specificitem"> 
               </div>

               <div id="coursebtns" style="display: inline-block;position: relative;margin-top: -10px;margin-left: 320px;">
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;">
                     <img id='courseselectbtn' src="./Images/UI/courseselectbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecoursemode(0)"> 
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;line-height: 20px;"> Select Courses</p>
                  </div>
                  <div style="width: 95px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 70px;">
                     <img id='coursetopshelfbtn' src="./Images/UI/coursetopshelfbtn.png" style="width: 75px;height: 75px;display: inline-block;margin-left: 15px;" onclick="changecoursemode(1)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;line-height: 20px;"> Top Shelf Preview</p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 170px;">
                     <img id='courseselectedbtn' src="./Images/UI/courseselectedbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecoursemode(2)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;line-height: 20px;"> Selected Courses</p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 255px;">
                     <img id='coursedkgbtn' src="./Images/UI/coursedkgbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changecoursemode(3)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;line-height: 20px;"> Item Specific</p>
                  </div>
               </div>
               <img id="items3barslc" src="./Images/UI/3itemsbar.png" class="items3barslc">
               <img id="items2barslc" src="./Images/UI/2itemsbar.png" class="items2barslc">
           </div>
            <!--<h3>Courses</h3>-->
            <div style="position: relative;">
                  <div id="selectcourses" style="margin-left: 50px;">
                  	<!--<h3>Select Courses</h3>-->
                  </div>
                  <div id="topshelfpreview">
                  	
                  </div>
                  <div id="selectedcourses">

                  </div>
                  <div id="itemspecificcourses">
                  	
                  </div>
               </div>
         </div>
         <div id="missing" style="height: auto;display:none;">
            <div style="background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;padding:10px;display:block;width: 970px;right: 0;left: 0;margin: 0px auto;margin-bottom: 10px;/*border: 5px solid #b5ceff;*/position: sticky;top: 0;z-index: 30;">
               <h3 class='whiteoutline' style="font-family: tour;font-size: 24px;width: 300px;display: inline-block;margin-bottom: 30px;">Missing Courses</h3>
               <div id="courseitembtnsmissing" style="display: inline-block;position: relative;margin-top: -10px;margin-left: 200px;">
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;">
                     <img id='missingdriversbtn' src="./Images/UI/invcharbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changemissingckg(0)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Drivers </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 75px;">
                     <img id='missingkartsbtn' src="./Images/UI/invkartbtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changemissingckg(1)">
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Karts </p>
                  </div>
                  <div style="width: 75px;height: 120px;display: inline-block;position:absolute;margin-top: -60px;margin-left: 150px;">
                     <img id='missingglidersbtn' src="./Images/UI/invglidebtn.png" style="width: 75px;height: 75px;display: inline-block;" onclick="changemissingckg(2)"> 
                     <p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;color: white;text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"> Gliders </p>
                  </div>
               </div>
               <img id="items3barslc" src="./Images/UI/3itemsbar.png" class="items3barslc">
               <img id="items2barslc" src="./Images/UI/2itemsbar.png" class="items2barslc">
            </div>
            <div id="missingcourses">

                  </div>
            
         </div>
         <div id="ranked" style="display: none;">
            <div style="background-image: linear-gradient(to bottom, rgba(168, 207, 255, 0.9) 0%, rgba(21, 33, 255, 0.9) 100%), url('./Images/UI/fixedmktbg.png');background-size: 394px auto;padding:10px;display:block;width: 970px;height: 160px;right: 0;left: 0;margin: 0px auto;margin-bottom: 10px;/*border: 5px solid #b5ceff;*/position: sticky;top: 0;z-index: 30;">
               <h3 class='whiteoutline' style="font-family: tour;font-size: 18px;width: 300px;display: inline-block;position: absolute">Current Ranked Cup: </h3>
            <div style="display: inline-block;position: absolute;margin-left:270px;">
               <img src="./Images/UI/cupranked.png" style="width: 100px;height: 100px;">
               <img id="rankcupimgranked" style="width: 60px;height: 60px;position: absolute;margin-left: -80px;margin-top: 20px;">
            </div>
            <div style="position: absolute;margin-left: 167px;margin-top: 130px;">
               <p id="cupnamecurrent" class='whiteoutline' style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;width: 305px;"> Baby Rosalina Cup </p>
            </div>
            <div style="display: inline-block;margin-left: 420px;">
               <div style="display: inline-block;vertical-align: top;height: 170px;">
               <img id="rankcourseimg1" class="rankedcourseimg">
               <p class="rankedcoursetxt" id="rankedcoursetxt1">Maple Treeway R</p>
               </div>
               <div style="display: inline-block;vertical-align: top;height: 170px;">
               <img id="rankcourseimg2" class="rankedcourseimg">
               <p class="rankedcoursetxt" id="rankedcoursetxt2">Maple Treeway</p>
               </div>
               <div style="display: inline-block;vertical-align: top;height: 170px;">
               <img id="rankcourseimg3" class="rankedcourseimg">
               <p class="rankedcoursetxt" id="rankedcoursetxt3">Maple Treeway R/T</p>
               </div>
            </div>
            <div id="rankedcourses">

                  </div>

         </div>
      </div>
         <!--<div id="pipe">
            <h3>Pipe</h3>
            </div>-->
         <div id="settings" style="height:auto;display:none;">
            <h3 style="font-family: tour;font-size: 24px;text-align: center;margin-left: 10px;">Settings</h3>
            <div id='general' style="width: 480px;height: 280px;vertical-align: top;display: inline-block;background-color: rgba(0, 0, 0, 0.3);padding:0px;margin-left: 10px;">
            	<h3 style="font-family: tour;font-size: 20px;text-align: center;margin-left: 10px;">General</h3>
            <h4 style="display:inline-block;margin-bottom: 0px;">Disable Data Usage After Entered</h4>
            <input type="checkbox" id="changeusedata"  oninput="changeusedata()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
        	</div>
        	<div id='inventory' style="width: 480px;height: 280px;vertical-align: top;display: inline-block;background-color: rgba(0, 0, 0, 0.3);padding:0px;">
        		<h3 style="font-family: tour;font-size: 20px;text-align: center;margin-left: 10px;">Inventory</h3>
        		<h4 style="display:inline-block;margin-bottom: 0px;">Disable City Tracks in Value Count</h4>
            <input type="checkbox" id="changecityvalue"  oninput="changecityvalue()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
            <!--<h4 style="display:inline-block;margin-bottom: 0px;">Disable Character Panel in Values Menu</h4>
            <input type="checkbox" id="changecharpanelvalue"  oninput="changecharpanelvalue()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">-->
            <h4 style="display:inline-block;margin-bottom: 0px;">[OLD] Enable Multiple Panels in Inventory</h4>
            <input type="checkbox" id="changemultiplepanelvalue"  oninput="changemultiplepanelvalue()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
        	</div>
        	<div id='courses' style="width: 480px;height: 280px;vertical-align: top;display: inline-block;background-color: rgba(0, 0, 0, 0.3);padding:0px;margin-left: 10px;margin-top: 5px;">
        		<h3 style="font-family: tour;font-size: 20px;text-align: center;margin-left: 10px;">Courses</h3>
        		<h4 style="display:inline-block;margin-bottom: 0px;">Only Show Owned Items in Specific Items</h4>
            <input type="checkbox" id="changeowneditems"  oninput="changeowneditems()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
        	</div>
         <div id='courses' style="width: 480px;height: 280px;vertical-align: top;display: inline-block;background-color: rgba(0, 0, 0, 0.3);padding:0px;margin-top: 5px;">
            <h3 style="font-family: tour;font-size: 20px;text-align: center;margin-left: 10px;">Courses</h3>
            <h4 style="display:inline-block;margin-bottom: 0px;">Hide City Courses from Missing</h4>
            <input type="checkbox" id="changecitymissing"  oninput="changecitymissing()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
         </div>
        	<div id='JSON' style="width: 480px;height: 280px;vertical-align: top;display: inline-block;background-color: rgba(0, 0, 0, 0.3);padding:0px;margin-left: 10px;margin-top: 5px;">
        		<h3 style="font-family: tour;font-size: 20px;text-align: center;margin-left: 10px;">JSON</h3>
        		<h4 style="display:inline-block;margin-bottom: 0px;">Debug Save Data Viewer</h4>
            <input type="checkbox" id="changedebugsave"  oninput="changedebugsave()" style="vertical-align:middle;margin-top: -3px;width: 30px;height: 30px;">
            <h4 style="display:inline-block;margin-bottom: 0px;">Download Course Data [Item IDs]</h4>
            <button onclick="downloadcoursejson(0)" style="vertical-align:middle;margin-left: 10px;margin-top: -3px;width: auto;height: 30px;">Download</button>
            <h4 style="display:inline-block;margin-bottom: 0px;">Download Course Data [Item Names]</h4>
            <button onclick="downloadcoursejson(1)" style="vertical-align:middle;margin-left: 10px;margin-top: -3px;width: auto;height: 30px;">Download</button>
            <h4 style="display:inline-block;margin-bottom: 0px;">Download Values Data [Reformatted]</h4>
            <button onclick="downloadcoursejson(2)" style="vertical-align:middle;margin-left: 10px;margin-top: -3px;width: auto;height: 30px;">Download</button>
        	</div>
         </div>
      </div>
      <div id="debugsave" style="display: none;">
         <button style="z-index: 2;position: fixed; float:left; left:0%; top:0%;" onclick="updatesavedata()">Refresh</button>
         <textarea style="position: fixed; float:left; left:0%; top:0%;margin-top: 35px" id="json" rows="60" cols="41"></textarea>
      </div>
      <script type="text/javascript" src="./Script/global.js"></script>
      <script type="text/javascript" src="./Script/convert.js"></script>
      <script type="text/javascript" src="./Script/data.js"></script>
      <script type="text/javascript" src="./Script/inventory.js"></script>
      <script type="text/javascript" src="./Script/courses.js"></script>
      <script type="text/javascript" src="./Script/missing.js"></script>
      <script type="text/javascript" src="./Script/ranked.js"></script>
      <script>
         function readTextFile(file, unit)
         {
             var rawFile = new XMLHttpRequest();
             rawFile.open("GET", file, false);
             rawFile.onreadystatechange = function ()
             {
                 if(rawFile.readyState === 4)
                 {
                     if(rawFile.status === 200 || rawFile.status == 0)
                     {
                         var allText = rawFile.responseText;
                         switch(unit){
                         	case 1:
                         	values = JSON.parse(allText);
                         	break;
                         	case 2:
                         	coursenames = JSON.parse(allText);
                         	break;
                         }
                     }
                 }
             }
             rawFile.send(null);
         }
         //readTextFile("./Data/1st_anniversary_tour_preferred_courses.json", 1);
         readTextFile("./Data/1st_anniversary_tour_courses_v2.6.0_update.json", 1);
         readTextFile("./Data/course_names.json", 2);
         convertToUsable();
         makeDataFields();
         if(localStorage.getItem("MKTVSaveData") != null){
        savedata = JSON.parse(localStorage.getItem("MKTVSaveData"));
        document.getElementById('json').innerHTML = JSON.stringify(savedata, null, 2);
        makeCourseList();
        courseListMade = true;
        calcMissingValues();
        isDataEntered = true;

        let savedrivers = [];
        savedrivers = Object.keys(savedata.Items.Drivers);
        let savedriverslvl = [];
        savedriverslvl = Object.values(savedata.Items.Drivers);
        savedrivers.forEach((t,i)=>{
            changeLevel(t, parseInt(savedriverslvl[i]), 1);
        }
        );

        let savekarts = [];
        savekarts = Object.keys(savedata.Items.Karts);
        let savekartslvl = [];
        savekartslvl = Object.values(savedata.Items.Karts);
        savekarts.forEach((t,i)=>{
            changeLevel(t, parseInt(savekartslvl[i]), 2);
        }
        );

        let savegliders = [];
        savegliders = Object.keys(savedata.Items.Gliders);
        let savegliderslvl = [];
        savegliderslvl = Object.values(savedata.Items.Gliders);
        savegliders.forEach((t,i)=>{
            changeLevel(t, parseInt(savegliderslvl[i]), 3);
        }
        );

        resettingCourses = true;
         }
      if(localStorage.getItem("MKTVSettingData") != null){
         settingsavedata = JSON.parse(localStorage.getItem("MKTVSettingData"));
      } 
      getCurrentRanked();
      window.onbeforeunload = function(){
         document.getElementById('loadingimg').style.display = "block";
      }
      window.addEventListener('DOMContentLoaded', (event) => {
      document.getElementById('rankcupimg').src = `./Images/Cups/${currentseasoncup} Cup.png`;
      document.getElementById('rankcupimg').style.display = "inline-block";
      applyLocalSettings();
      });
      window.onload = function() {
         document.getElementById('loadingimg').style.display = "none";
      }
      </script>
   </body>
</html>