
<!DOCTYPE html>
<html>
<head>
<style>
@font-face {font-family: tour;src: url('./Font/nintendoP_NTLG-NR-DB_003.ttf');}
@font-face {font-family: headername;src: url('./Font/nintendoP_NTLG-NR-UB_003.ttf');}
</style>
<!--::-webkit-scrollbar {
  width: 15px;
}
::-webkit-scrollbar-track {
  /*box-shadow: inset 0 0 5px grey; */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  /*background: #8598bc;*/
  background: #b5ceff;
  border-radius: 10px;
}
/*::-webkit-scrollbar-thumb:hover {
  background: #5a677f; 
}*/
</style>-->
</head>
<body>
<h2>Testing Unit</h2>

<div id="data">
	<h3 style="font-family: try6">Data</h3>

</div>

<div id="inventory" style="display:block;width: 500px">
	<h3 style="font-family: tour">Inventory</h3>
</div>

<div id="inventoryshelves" style="display:block;width: 810px">
	</div>
<div id="manager">
	<h3>Manager</h3>
<img src="./Images/Course Image/SGB.png"> </img>
</div>

<div id="missing">
	<h3>Missing</h3>

</div>

<div id="pipe">
	<h3>Pipe</h3>
</div>


<script>
//global
var isDataEntered = false;
var values;

//inventory
var characteridinternal = ["1","2","3","4","5","6","7","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","30","31","32","33","34","35","37","38","40","41","43","44","45","46","47","49","50","51","52","57","58","59","60","62","67","70","76","78","79","80","82","85","89","91","92","93","107","111","112","115","117","120","122","126","127","128","131","132","137","138","139","140","142","143","144","145","149","150","153","155","158","159","161","164","165","169","170","178","179"];
var characterid = ["25","26","23","27","24","6","10","14","30","31","32","33","34","35","37","5","7","9","11","2","16","22","4","80","67","3","1","50","13","17","21","20","15","70","117","38","76","107","51","58","60","59","111","93","18","57","41","47","44","43","132","46","40","19","142","79","144","120","143","78","122","161","150","140","149","153","112","137","62","82","138","159","139","169","155","92","49","85","179","170","12","131","126","89","115","158","164","128","127","165","91","45","145","52","178"];
var charrarityinternal = ["2","2","2","2","2","1","2","2","1","2","3","2","1","2","2","2","3","3","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","2","3","3","3","3","3","3","3","3","32","2","3","3","2","2","2","3","2","2","2","3","3","2","3","3","3","3","3","32","2","2","3","3","2","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"];
var charrarity = ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"];
var charitem = ["22","16","16","16","22","30","31","30","30","22","16","15","19","31","26","12","26","20","26","25","25","15","12","22","20","18","19","33","30","18","31","31","17","32","12","21","26","21","27","22","14","12","21","35","12","35","17","31","35","36","15","36","12","36","17","20","36","32","35","15","14","14","26","14","25","17","15","20","31","27","32","26","17","25","36","15","27","31","12","25","18","32","35","28","36","32","36","33","28","32","12","17","32","23","28"];
var viewshelvechar = [];

function readTextFile(file, unit)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                var allText = rawFile.responseText;
                switch(unit){
                	case 1:
                	values = JSON.parse(allText);
                	console.log(values);
                	break;
                	case 2:
                	coursenames = JSON.parse(allText);
                	console.log(coursenames);
                	break;
                }
            }
        }
    }
    rawFile.send(null);
}
readTextFile("./Data/super_mario_kart_tour_preferred_courses.json", 1);
readTextFile("./Data/course_names.json", 2);

			let makeCharacters = () => {
                let output = document.getElementById('inventory');
                characterid.forEach((t, i) => {
                	var panel = document.createElement('div');
                	panel.style.width = "54px";
                	panel.style.height = "70px";
                	panel.style.display = "inline-block";
                	panel.addEventListener('click', function() {
                        invCharacter(characterid[i], i);
                    });


                	let bottomimg = document.createElement('img');
                	switch(charrarity[i]){
                	case "1":
                	bottomimg.src = `./Images/UI/bgnormal.png`;
                	break;
                	case "2":
                	bottomimg.src = `./Images/UI/bgrare.png`;
                	break;
                	case "3":
                	bottomimg.src = `./Images/UI/bghighend.png`;
                	break;
                }
                	bottomimg.style.width = "54px";
                	bottomimg.style.height = "70px";
                	bottomimg.style.position = "absolute";
                	panel.appendChild(bottomimg);

                    let newCharacter = document.createElement('img');
                    newCharacter.className = 'inventoryCharacter';
                    newCharacter.src = `./Images/Character Icon/${t}.png`;
                    newCharacter.style.width = "auto";
                    newCharacter.style.height = "64px";
                    newCharacter.style.position = "absolute";
                    panel.appendChild(newCharacter);

                    let topimg = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	topimg.src = `./Images/UI/outlinenormal.png`;
                	break;
                	case "2":
                	topimg.src = `./Images/UI/outlinerare.png`;
                	break;
                	case "3":
                	topimg.src = `./Images/UI/outlinehighend.png`;
                	break;
                }
                	topimg.style.width = "54px";
                	topimg.style.height = "70px";
                	topimg.style.position = "absolute";
                	topimg.style.zIndex = "10";
                	panel.appendChild(topimg);

                	let item = document.createElement('img');
                    //item.className = 'inventoryCharacter';
                    item.src = `./Images/Items/` + charitem[i] + `.png`;
                    console.log(`./Images/Items/` + charitem[i] + `.png`);
                    item.style.width = "30px";
                    item.style.height = "30px";
                    item.style.marginTop = "40px";
                    item.style.position = "absolute";
                    item.style.zIndex = "11";
                    //item.style.border = "5px solid #FFF"
                    panel.appendChild(item);

                    output.appendChild(panel);
                });
            }

            function invCharacter(selected, i){
            	//let item = [...selected.parentNode.children].indexOf(selected);
            	let item = selected;
            	console.log(item);

            	if(!viewshelvechar.includes(item)){
            		viewshelvechar.push(item);
            	
            	let moreGoodAt = values[item].moreGoodAt;
            	let goodAt = values[item].goodAt;
            	console.log(moreGoodAt);
            	console.log(goodAt);
            	//values.selected.goodAt
            	let output = document.getElementById('inventoryshelves');
            	var shelfpanel = document.createElement('div');
                	shelfpanel.style.width = "250px";
                	shelfpanel.style.height = "350px";
                	shelfpanel.style.display = "inline-block";
                	shelfpanel.style.backgroundColor = "black";
                	shelfpanel.style.backgroundImage = "url('./Images/UI/inventorybg.png')";
                	shelfpanel.style.overflowY = "scroll";
                	shelfpanel.style.overflowX = "hidden";

                	var namepanel = document.createElement('div');
                	namepanel.style.width = "240px";
                	namepanel.style.height = "36px";
                	namepanel.style.marginTop = "-14px";
                	namepanel.style.marginLeft = "3px";
                	namepanel.style.backgroundImage = "url('./Images/UI/namebar.png')";
                	shelfpanel.appendChild(namepanel);


                	let toptext = document.createElement('p');
                    toptext.innerHTML = values[item].nameEng;
                    toptext.style.marginTop = "15px";
                    toptext.style.textAlign = "center";
                    toptext.style.fontFamily = "headername";
                    toptext.style.fontWeight = "bold";
                    toptext.style.lineHeight = "35px";
					toptext.style.color = "#005096";
                    namepanel.appendChild(toptext);


                    let characterpanel = document.createElement('div');
                    characterpanel.style.width = "248px";
                	characterpanel.style.height = "136px";
                	characterpanel.style.marginTop = "0px";
                	characterpanel.style.marginLeft = "0px";
                	characterpanel.style.position = "relative";


                    let rarityimage = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	rarityimage.src = `./Images/UI/invnormal.png`;
                	break;
                	case "2":
                	rarityimage.src = `./Images/UI/invrare.png`;
                	break;
                	case "3":
                	rarityimage.src = `./Images/UI/invhighend.png`;
                	break;
                	}
                	rarityimage.style.width = "240px";
                	rarityimage.style.height = "132px";
                	rarityimage.style.marginLeft = "-152px";
                	rarityimage.style.marginTop = "0px";
                	rarityimage.style.position = "absolute";
                	rarityimage.style.zIndex = 1;

                var panel = document.createElement('div');
                	panel.style.width = "54px";
                	panel.style.height = "70px";
                	panel.style.display = "inline-block";
                	panel.style.marginLeft = "100px";
                	panel.style.marginTop = "35px";
                	panel.style.position = "relative";
                	panel.style.zIndex = 2;
                	let bottomimg = document.createElement('img');
                	switch(charrarity[i]){
                	case "1":
                	bottomimg.src = `./Images/UI/bgnormal.png`;
                	break;
                	case "2":
                	bottomimg.src = `./Images/UI/bgrare.png`;
                	break;
                	case "3":
                	bottomimg.src = `./Images/UI/bghighend.png`;
                	break;
                	}
                	bottomimg.style.width = "54px";
                	bottomimg.style.height = "70px";
                	bottomimg.style.position = "absolute";
                	panel.appendChild(bottomimg);

                    let newCharacter = document.createElement('img');
                    newCharacter.className = 'inventoryCharacter';
                    newCharacter.src = `./Images/Character Icon/` + item + `.png`;
                    newCharacter.style.width = "auto";
                    newCharacter.style.height = "64px";
                    newCharacter.style.position = "absolute";
                    panel.appendChild(newCharacter);

                    let topimg = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	topimg.src = `./Images/UI/outlinenormal.png`;
                	break;
                	case "2":
                	topimg.src = `./Images/UI/outlinerare.png`;
                	break;
                	case "3":
                	topimg.src = `./Images/UI/outlinehighend.png`;
                	break;
                }
                	topimg.style.width = "54px";
                	topimg.style.height = "70px";
                	topimg.style.position = "absolute";
                	topimg.style.zIndex = "10";
                	panel.appendChild(topimg);

                	let charaitem = document.createElement('img');
                    //item.className = 'inventoryCharacter';
                    charaitem.src = `./Images/Items/` + charitem[i] + `.png`;
                    console.log(`./Images/Items/` + charitem[i] + `.png`);
                    charaitem.style.width = "30px";
                    charaitem.style.height = "30px";
                    charaitem.style.marginTop = "40px";
                    charaitem.style.position = "absolute";
                    charaitem.style.zIndex = "11";
                    //item.style.border = "5px solid #FFF"
                    panel.appendChild(charaitem);

                    characterpanel.appendChild(panel);
                    characterpanel.appendChild(rarityimage);

                    //comment this for no charcater image
                    shelfpanel.appendChild(characterpanel);

                    let whitebar3item = document.createElement('img');
                	whitebar3item.src = `./Images/UI/3itemsbar.png`;
                	whitebar3item.style.width = "240px";
                	whitebar3item.style.height = "30px";
                	whitebar3item.style.marginLeft = "5px";
                	whitebar3item.style.marginTop = "-5px";
                	//whitebar3item.style.position = "absolute";
                	shelfpanel.appendChild(whitebar3item);


                    var moreGoodAtPanel = document.createElement('div');
                	moreGoodAtPanel.style.width = "240px";
                	moreGoodAtPanel.style.height = "70px";
                	moreGoodAtPanel.style.display = "inline-block";
                	moreGoodAtPanel.style.marginLeft = "5px";
                	moreGoodAtPanel.style.marginTop = "0px";
                	//moreGoodAtPanel.style.position = "absolute";
                	//moreGoodAtPanel.style.backgroundColor = "blue";


                	moreGoodAt.forEach((t, i) => {
                	var coursePanel = document.createElement('div');
                	coursePanel.style.width = "124px";
                	coursePanel.style.height = "64px";
                	coursePanel.style.display = "inline";
                	coursePanel.style.marginLeft = "0px";
                	coursePanel.style.marginTop = "0px";
                	coursePanel.style.position = "relative";
                	
                	let courseimg = document.createElement('img');
                	courseimg.src = `./Images/Course Image/${t}.png`;
                	courseimg.style.width = "116px";
                	courseimg.style.height = "58px";
                	courseimg.style.marginLeft = "2px";
                	courseimg.style.marginTop = "0px";
                	//courseimg.style.position = "absolute";
                	coursePanel.appendChild(courseimg);

                	let coursetxt = document.createElement('p');
                	coursetxt.innerHTML = coursenames[t];
                    //coursetxt.style.marginTop = "15px";
                    coursetxt.style.textAlign = "center";
                    coursetxt.style.fontFamily = "tour";
                    coursetxt.style.fontSize = "8.5px";
                    //coursetxt.style.fontWeight = "bold";
                    coursetxt.style.position = "absolute";
                    coursetxt.style.display = "inline";
                    coursetxt.style.color = "white";
                    coursetxt.style.marginLeft = "-118px";
                	coursetxt.style.top = "-50.0px";
                	coursetxt.style.width = "120px";
                	coursetxt.style.height = "16px";
                	coursetxt.style.lineHeight = "10px";
                    coursePanel.appendChild(coursetxt);



                	moreGoodAtPanel.appendChild(coursePanel);
                	});








                	let whitebar2item = document.createElement('img');
                	whitebar2item.src = `./Images/UI/2itemsbar.png`;
                	whitebar2item.style.width = "240px";
                	whitebar2item.style.height = "30px";
                	whitebar2item.style.marginLeft = "5px";
                	whitebar2item.style.marginTop = "-10px";
                	whitebar2item.style.position = "relative";
                	//shelfpanel.appendChild(whitebar2item);


                    var goodAtPanel = document.createElement('div');
                	goodAtPanel.style.width = "240px";
                	goodAtPanel.style.height = "70px";
                	goodAtPanel.style.display = "inline-block";
                	goodAtPanel.style.marginLeft = "5px";
                	goodAtPanel.style.marginTop = "0px";
                	//moreGoodAtPanel.style.position = "absolute";
                	//moreGoodAtPanel.style.backgroundColor = "blue";


                	goodAt.forEach((t, i) => {
                	var coursePanel = document.createElement('div');
                	coursePanel.style.width = "124px";
                	coursePanel.style.height = "64px";
                	coursePanel.style.display = "inline";
                	coursePanel.style.marginLeft = "0px";
                	coursePanel.style.marginTop = "0px";
                	coursePanel.style.position = "relative";
                	
                	let courseimg = document.createElement('img');
                	courseimg.src = `./Images/Course Image/${t}.png`;
                	courseimg.style.width = "116px";
                	courseimg.style.height = "58px";
                	courseimg.style.marginLeft = "2px";
                	courseimg.style.marginTop = "0px";
                	//courseimg.style.position = "absolute";
                	coursePanel.appendChild(courseimg);

                	let coursetxt = document.createElement('p');
                	coursetxt.innerHTML = coursenames[t];
                    //coursetxt.style.marginTop = "15px";
                    coursetxt.style.textAlign = "center";
                    coursetxt.style.fontFamily = "tour";
                    coursetxt.style.fontSize = "8.5px";
                    //coursetxt.style.fontWeight = "bold";
                    coursetxt.style.position = "absolute";
                    coursetxt.style.display = "inline";
                    coursetxt.style.color = "white";
                    coursetxt.style.marginLeft = "-118px";
                	coursetxt.style.marginTop = "3.0px";
                	coursetxt.style.width = "120px";
                	coursetxt.style.height = "16px";
                	coursetxt.style.lineHeight = "10px";
                    coursePanel.appendChild(coursetxt);



                	goodAtPanel.appendChild(coursePanel);
                	});


                	shelfpanel.appendChild(moreGoodAtPanel);
                	shelfpanel.appendChild(whitebar2item);
                	shelfpanel.appendChild(goodAtPanel);

                    output.appendChild(shelfpanel);

                }

            }

            makeCharacters();
</script>

</body>	
</html>
