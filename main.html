
<!DOCTYPE html>
<html>
<head>
<style>
@font-face {font-family: tour;src: url('./Font/nintendoP_NTLG-NR-DB_003.ttf');}
@font-face {font-family: headername;src: url('./Font/nintendoP_NTLG-NR-UB_003.ttf');}
.inventory  {
	background: url('./Images/UI/mktpattern.png') repeat;
}
.main {
	background: #9dd7ef;background-image: url('./Images/UI/background.png'), linear-gradient(to bottom, #87CEFA 0%, #FFFFFF 100%);background-repeat: no-repeat;background-attachment: fixed;background-position: center bottom;
}
.ckgpanel {
	width: 67.5px;height: 87.5px;display: inline-block;
}
.bottomimg {
	width: 67.5px;height: 87.5px;position: absolute;
}
.newCharacter {
	width: auto; height: 80px;position: absolute; 
}
.topimg {
	width: 67.5px;height: 87.5px;position: absolute;z-index: 10;
}
.invtopimgselected {
	width: 67.5px;height: 87.5px;position: absolute;z-index: 10;background: rgba(0,255,62,0.35);
}
.itemboxitem {
	width: 37.5px;height: 37.5px;margin-top: 50px;position: absolute;z-index: 11;
}
.shelfpanel {
	width: 320px;height: 437.5px;display: inline-block;background-color: black; background-image: url('./Images/UI/inventorybg.png');background-size: 312.5px 437.5px;overflow-y: scroll; overflow-x: hidden;
}
.xbtn {
	width: 35px; height: 35px;position: absolute;z-index: 15;margin-left: 260px;margin-top: -52px;
	filter: drop-shadow(0px 0px 5px #222);
}
.namepanel {
	width: 300px;height:45px;margin-top: -17.5px;margin-left:3.75px;background-image:url('./Images/UI/namebar.png');
}
.toptext {
	margin-top: 18.75px;text-align: center;font-family: headername;font-weight: bold; line-height: 43.75px;color: #005096;
}
.characterpanel {
	width: 310px;height: 170px;/*margin-top: 0px;margin-left: 0px;*/position: relative;
}
.rarityimg {
	width: 300px;height: 165px;margin-left: -190px;/*margin-top: 0;*/position: absolute;z-index: 1;
}
.ckgpanel2 {
	width: 67.5px;height: 87.5px;display: inline-block;margin-left: 125px;margin-top: 43.75px;position:relative;z-index: 2; 
}
.whitebar3item {
	width: 300px;height: 37.5px;margin-left: 5px;margin-top: -5px;
}
.goodAtPanel {
	width: 300px;height: 87.5px;display: inline-block;margin-left: 6.25px;/*margin-top: 0px;*/
}
.coursepanel {
	width: 155px;height: 80px; display: inline;/*margin-left: 0px;margin-top: 0px;*/position: relative;
}
.courseimg {
	width: 145px;height: 72.5px;margin-left: 2.5px;/*margin-top: 0px;*/
}
.coursetxt {
	width: 150px;height: 20px;text-align: center;font-family: tour;font-size:10.625px;line-height: 12.5px;position: absolute;display: inline;color: white;margin-left: -147.5px;margin-top: -65px;
}
.whitebar2item {
	width: 300px;height: 37.5px;margin-left:6.25px;margin-top:-12.5px;position: relative;
}
</style>
<!--::-webkit-scrollbar {
  width: 15px;
}
::-webkit-scrollbar-track {
  /*box-shadow: inset 0 0 5px grey; */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  /*background: #8598bc;*/
  background: #b5ceff;
  border-radius: 10px;
}
/*::-webkit-scrollbar-thumb:hover {
  background: #5a677f; 
}*/
</style>-->
</head>
<body class="main" style="">
<div style="margin: 0px auto;width: 540px;right: 0;left: 0;"> <!--<h2>Testing Unit</h2>-->

<div style="width: 100px;height: 120px;display: inline-block;">
	<img src="./Images/UI/cupdata.png" style="width: 100px;height: 100px;" onclick="changemode(1)">  </img>
	<p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Enter Data </p>
</div>
<div style="width: 100px;height: 120px;display: inline-block;">
	<img src="./Images/UI/cupinventory.png" style="width: 100px;height: 100px;" onclick="changemode(2)"> </img>
	<p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Inventory </p>
</div>
<div style="width: 100px;height: 120px;display: inline-block;">
	<img src="./Images/UI/cupcourse.png" style="width: 100px;height: 100px;" onclick="changemode(3)"> </img>
	<p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Courses </p>
</div>
<div style="width: 100px;height: 120px;display: inline-block;">
	<img src="./Images/UI/cupvalues.png" style="width: 100px;height: 100px;" onclick="changemode(4)"> </img>
	<p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Missing </p>
</div>
<div style="width: 100px;height: 120px;display: inline-block;">
	<img src="./Images/UI/cupsettings.png" style="width: 100px;height: 100px;" onclick="changemode(5)"> </img>
	<p style="margin-top: -10px;font-family: headername;font-size: 15px;text-align: center;"> Settings </p>
</div>
</div>

<div style="margin: 0px auto;width: 1000px;right: 0;left: 0;" id="content">
<div id="data">
	<h3 style="font-family: try6">Data</h3>

</div>

<div id="inventory" style="right: 0;left: 0;margin: 0px auto;">
<div style="background-color: rgba(0, 0, 0, 0.3);padding:10px;display:block;width: 540px;right: 0;left: 0;margin: 0px auto;">
	<h3 style="font-family: tour">Inventory</h3>
	<div id="inventorychar" style=""></div>
	<div id="inventorykart"></div>
	<div id="inventoryglide"></div>
</div>

<div id="inventoryshelves" style="display:block;width: 1000px">
	</div>
</div>

<div id="courses">
	<h3>Courses</h3>
</div>

<div id="missing">
	<h3>Missing</h3>
</div>

<!--<div id="pipe">
	<h3>Pipe</h3>
</div>-->
<div id="settings">
	<h3>Settings</h3>
</div>

</div>
<script>
//global
var isDataEntered = false;
var values;

//inventory
var characteridinternal = ["1","2","3","4","5","6","7","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","30","31","32","33","34","35","37","38","40","41","43","44","45","46","47","49","50","51","52","57","58","59","60","62","67","70","76","78","79","80","82","85","89","91","92","93","107","111","112","115","117","120","122","126","127","128","131","132","137","138","139","140","142","143","144","145","149","150","153","155","158","159","161","164","165","169","170","178","179"];
var characterid = ["25","26","23","27","24","6","10","14","30","31","32","33","34","35","37","5","7","9","11","2","16","22","4","80","67","3","1","50","13","17","21","20","15","70","117","38","76","107","51","58","60","59","111","93","18","57","41","47","44","43","132","46","40","19","142","79","144","120","143","78","122","161","150","140","149","153","112","137","62","82","138","159","139","169","155","92","49","85","179","170","12","131","126","89","115","158","164","128","127","165","91","45","145","52","178"];
var charrarityinternal = ["2","2","2","2","2","1","2","2","1","2","3","2","1","2","2","2","3","3","2","2","2","1","1","1","1","1","1","1","1","1","1","1","1","2","3","3","3","3","3","3","3","3","32","2","3","3","2","2","2","3","2","2","2","3","3","2","3","3","3","3","3","32","2","2","3","3","2","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"];
var charrarity = ["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","2","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3","3"];
var charitem = ["22","16","16","16","22","30","31","30","30","22","16","15","19","31","26","12","26","20","26","25","25","15","12","22","20","18","19","33","30","18","31","31","17","32","12","21","26","21","27","22","14","12","21","35","12","35","17","31","35","36","15","36","12","36","17","20","36","32","35","15","14","14","26","14","25","17","15","20","31","27","32","26","17","25","36","15","27","31","12","25","18","32","35","28","36","32","36","33","28","32","12","17","32","23","28"];
var viewshelvechar = [];

function readTextFile(file, unit)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                var allText = rawFile.responseText;
                switch(unit){
                	case 1:
                	values = JSON.parse(allText);
                	console.log(values);
                	break;
                	case 2:
                	coursenames = JSON.parse(allText);
                	console.log(coursenames);
                	break;
                }
            }
        }
    }
    rawFile.send(null);
}
readTextFile("./Data/super_mario_kart_tour_preferred_courses.json", 1);
readTextFile("./Data/course_names.json", 2);

			let makeCharacters = () => {
                let output = document.getElementById('inventorychar');
                characterid.forEach((t, i) => {
                	var panel = document.createElement('div');
                	panel.className = 'ckgpanel';
                	panel.id = `invcharpanel${t}`;
                	panel.addEventListener('click', function() {
                        invCharacter(characterid[i], i);
                    });


                	let bottomimg = document.createElement('img');
                	switch(charrarity[i]){
                	case "1":
                	bottomimg.src = `./Images/UI/bgnormal.png`;
                	break;
                	case "2":
                	bottomimg.src = `./Images/UI/bgrare.png`;
                	break;
                	case "3":
                	bottomimg.src = `./Images/UI/bghighend.png`;
                	break;
                	}
                	bottomimg.className = 'bottomimg';
                	panel.appendChild(bottomimg);

                    let newCharacter = document.createElement('img');
                    newCharacter.className = 'newCharacter';
                    newCharacter.src = `./Images/Character Icon/${t}.png`;
                    panel.appendChild(newCharacter);

                    let topimg = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	topimg.src = `./Images/UI/outlinenormal.png`;
                	break;
                	case "2":
                	topimg.src = `./Images/UI/outlinerare.png`;
                	break;
                	case "3":
                	topimg.src = `./Images/UI/outlinehighend.png`;
                	break;
                	}
                	topimg.className = 'topimg';
                	topimg.id = `invtopimgselected${t}`;
                	panel.appendChild(topimg);

                	let charaitem = document.createElement('img');
                    charaitem.src = `./Images/Items/` + charitem[i] + `.png`;
                    charaitem.className = 'itemboxitem';
                    panel.appendChild(charaitem);

                    output.appendChild(panel);
                });
            }

            function invCharacter(selected, i){
            	let item = selected;

            	if(!viewshelvechar.includes(item)){
            		viewshelvechar.push(item);
            	document.getElementById(`invtopimgselected${selected}`).className = `invtopimgselected`;
            	let moreGoodAt = values[item].moreGoodAt;
            	let goodAt = values[item].goodAt;
            	console.log(moreGoodAt);
            	console.log(goodAt);
            	//values.selected.goodAt
            	let output = document.getElementById('inventoryshelves');
            	var shelfpanel = document.createElement('div');
                	shelfpanel.className = 'shelfpanel';
                	shelfpanel.id = `shelfpanel${selected}`

                	var namepanel = document.createElement('div');
                	namepanel.className = 'namepanel';
                	shelfpanel.appendChild(namepanel);


                	let toptext = document.createElement('p');
                    toptext.innerHTML = values[item].nameEng;
                    toptext.className = 'toptext';
                    switch(selected){
                    	case '115':
                    	toptext.style.fontSize = "14px";
                    	break;
                    	case '126':
                    	toptext.style.fontSize = "16px";
                    	break;
                    	case '131':
                    	toptext.style.fontSize = "13.5px";
                    	break;
                    	case '178':
                    	toptext.style.fontSize = "15px";
                    	break;
                    }
                    namepanel.appendChild(toptext);

                    let xbtn = document.createElement('img');
                	xbtn.src = "./Images/UI/xbtn.png";
                	xbtn.className = 'xbtn';
                	xbtn.addEventListener('click', function() {
                        removeShelfPanel(item);
                        viewshelvechar.splice(viewshelvechar.indexOf(item), 1);
                		document.getElementById(`invtopimgselected${selected}`).className = `topimg`;
                    });
                	//xbtn.style.right = "1px";
                	namepanel.appendChild(xbtn);


                    let characterpanel = document.createElement('div');
                    characterpanel.style.width = "310px";
                	characterpanel.style.height = "170px";
                	characterpanel.style.marginTop = "0px";
                	characterpanel.style.marginLeft = "0px";
                	characterpanel.style.position = "relative";


                    let rarityimage = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	rarityimage.src = `./Images/UI/invnormal.png`;
                	break;
                	case "2":
                	rarityimage.src = `./Images/UI/invrare.png`;
                	break;
                	case "3":
                	rarityimage.src = `./Images/UI/invhighend.png`;
                	break;
                	}
                	rarityimage.style.width = "300px";
                	rarityimage.style.height = "165px";
                	rarityimage.style.marginLeft = "-190px";
                	rarityimage.style.marginTop = "0px";
                	rarityimage.style.position = "absolute";
                	rarityimage.style.zIndex = 1;

                var panel = document.createElement('div');
                	panel.style.width = "67.5px";
                	panel.style.height = "87.5px";
                	panel.style.display = "inline-block";
                	panel.style.marginLeft = "125px";
                	panel.style.marginTop = "43.75px";
                	panel.style.position = "relative";
                	panel.style.zIndex = 2;
                	let bottomimg = document.createElement('img');
                	switch(charrarity[i]){
                	case "1":
                	bottomimg.src = `./Images/UI/bgnormal.png`;
                	break;
                	case "2":
                	bottomimg.src = `./Images/UI/bgrare.png`;
                	break;
                	case "3":
                	bottomimg.src = `./Images/UI/bghighend.png`;
                	break;
                	}
                	bottomimg.style.width = "67.5px";
                	bottomimg.style.height = "87.5px";
                	bottomimg.style.position = "absolute";
                	panel.appendChild(bottomimg);

                    let newCharacter = document.createElement('img');
                    newCharacter.className = 'inventoryCharacter';
                    newCharacter.src = `./Images/Character Icon/` + item + `.png`;
                    newCharacter.style.width = "auto";
                    newCharacter.style.height = "80px";
                    newCharacter.style.position = "absolute";
                    panel.appendChild(newCharacter);

                    let topimg = document.createElement('img');
                    switch(charrarity[i]){
                	case "1":
                	topimg.src = `./Images/UI/outlinenormal.png`;
                	break;
                	case "2":
                	topimg.src = `./Images/UI/outlinerare.png`;
                	break;
                	case "3":
                	topimg.src = `./Images/UI/outlinehighend.png`;
                	break;
                }
                	topimg.style.width = "67.5px";
                	topimg.style.height = "87.5px";
                	topimg.style.position = "absolute";
                	topimg.style.zIndex = "10";
                	panel.appendChild(topimg);

                	let charaitem = document.createElement('img');
                    //item.className = 'inventoryCharacter';
                    charaitem.src = `./Images/Items/` + charitem[i] + `.png`;
                    console.log(`./Images/Items/` + charitem[i] + `.png`);
                    charaitem.style.width = "37.5px";
                    charaitem.style.height = "37.5px";
                    charaitem.style.marginTop = "50px";
                    charaitem.style.position = "absolute";
                    charaitem.style.zIndex = "11";
                    //item.style.border = "5px solid #FFF"
                    panel.appendChild(charaitem);

                    characterpanel.appendChild(panel);
                    characterpanel.appendChild(rarityimage);

                    //comment this for no charcater image
                    shelfpanel.appendChild(characterpanel);

                    let whitebar3item = document.createElement('img');
                	whitebar3item.src = `./Images/UI/3itemsbar.png`;
                	whitebar3item.style.width = "300px";
                	whitebar3item.style.height = "37.5px";
                	whitebar3item.style.marginLeft = "5px";
                	whitebar3item.style.marginTop = "-5px";
                	//whitebar3item.style.position = "absolute";
                	shelfpanel.appendChild(whitebar3item);


                    var moreGoodAtPanel = document.createElement('div');
                	moreGoodAtPanel.style.width = "300px";
                	moreGoodAtPanel.style.height = "87.5px";
                	moreGoodAtPanel.style.display = "inline-block";
                	moreGoodAtPanel.style.marginLeft = "6.25px";
                	moreGoodAtPanel.style.marginTop = "0px";
                	//moreGoodAtPanel.style.position = "absolute";
                	//moreGoodAtPanel.style.backgroundColor = "blue";


                	moreGoodAt.forEach((t, i) => {
                	var coursePanel = document.createElement('div');
                	coursePanel.style.width = "155px";
                	coursePanel.style.height = "80px";
                	coursePanel.style.display = "inline";
                	coursePanel.style.marginLeft = "0px";
                	coursePanel.style.marginTop = "0px";
                	coursePanel.style.position = "relative";
                	
                	let courseimg = document.createElement('img');
                	courseimg.src = `./Images/Course Image/${t}.png`;
                	courseimg.style.width = "145px";
                	courseimg.style.height = "72.5px";
                	courseimg.style.marginLeft = "2.5px";
                	courseimg.style.marginTop = "0px";
                	//courseimg.style.position = "absolute";
                	coursePanel.appendChild(courseimg);

                	let coursetxt = document.createElement('p');
                	coursetxt.innerHTML = coursenames[t];
                    //coursetxt.style.marginTop = "15px";
                    coursetxt.style.textAlign = "center";
                    coursetxt.style.fontFamily = "tour";
                    coursetxt.style.fontSize = "10.625px";
                    //coursetxt.style.fontWeight = "bold";
                    coursetxt.style.position = "absolute";
                    coursetxt.style.display = "inline";
                    coursetxt.style.color = "white";
                    coursetxt.style.marginLeft = "-147.5px";
                	coursetxt.style.top = "-65px";
                	coursetxt.style.width = "150px";
                	coursetxt.style.height = "20px";
                	coursetxt.style.lineHeight = "12.5px";
                    coursePanel.appendChild(coursetxt);



                	moreGoodAtPanel.appendChild(coursePanel);
                	});

                	let whitebar2item = document.createElement('img');
                	whitebar2item.src = `./Images/UI/2itemsbar.png`;
                	whitebar2item.style.width = "300px";
                	whitebar2item.style.height = "37.5px";
                	whitebar2item.style.marginLeft = "6.25px";
                	whitebar2item.style.marginTop = "-12.5px";
                	whitebar2item.style.position = "relative";
                	//shelfpanel.appendChild(whitebar2item);


                    var goodAtPanel = document.createElement('div');
                	goodAtPanel.style.width = "300px";
                	goodAtPanel.style.height = "87.5px";
                	goodAtPanel.style.display = "inline-block";
                	goodAtPanel.style.marginLeft = "6.25px";
                	goodAtPanel.style.marginTop = "0px";
                	//moreGoodAtPanel.style.position = "absolute";
                	//moreGoodAtPanel.style.backgroundColor = "blue";


                	goodAt.forEach((t, i) => {
                	var coursePanel = document.createElement('div');
                	coursePanel.style.width = "155px";
                	coursePanel.style.height = "80px";
                	coursePanel.style.display = "inline";
                	coursePanel.style.marginLeft = "0px";
                	coursePanel.style.marginTop = "0px";
                	coursePanel.style.position = "relative";
                	
                	let courseimg = document.createElement('img');
                	courseimg.src = `./Images/Course Image/${t}.png`;
                	courseimg.style.width = "145px";
                	courseimg.style.height = "72.5px";
                	courseimg.style.marginLeft = "2.5px";
                	courseimg.style.marginTop = "0px";
                	//courseimg.style.position = "absolute";
                	coursePanel.appendChild(courseimg);

                	let coursetxt = document.createElement('p');
                	coursetxt.innerHTML = coursenames[t];
                    //coursetxt.style.marginTop = "15px";
                    coursetxt.style.textAlign = "center";
                    coursetxt.style.fontFamily = "tour";
                    coursetxt.style.fontSize = "10.625px";
                    //coursetxt.style.fontWeight = "bold";
                    coursetxt.style.position = "absolute";
                    coursetxt.style.display = "inline";
                    coursetxt.style.color = "white";
                    coursetxt.style.marginLeft = "-147.5px";
                	coursetxt.style.top = "-65px";
                	coursetxt.style.width = "150px";
                	coursetxt.style.height = "20px";
                	coursetxt.style.lineHeight = "12.5px";
                    coursePanel.appendChild(coursetxt);

                	goodAtPanel.appendChild(coursePanel);
                	});


                	shelfpanel.appendChild(moreGoodAtPanel);
                	shelfpanel.appendChild(whitebar2item);
                	shelfpanel.appendChild(goodAtPanel);

                    output.appendChild(shelfpanel);

                } else {
                	removeShelfPanel(item);
                	viewshelvechar.splice(viewshelvechar.indexOf(item), 1);
                	document.getElementById(`invtopimgselected${selected}`).className = `topimg`;
                }

            }

            function removeShelfPanel(id){
            	document.getElementById(`shelfpanel${id}`).remove();
            }

            function changemode(mode){
            	switch(mode){
            		case 1:
            		document.getElementById('data').style.display = "block";
            		document.getElementById('inventory').style.display = "none";
            		document.getElementById('courses').style.display = "none";
            		document.getElementById('missing').style.display = "none";
            		document.getElementById('settings').style.display = "none";
            		break;
            		case 2:
            		document.getElementById('data').style.display = "none";
            		document.getElementById('inventory').style.display = "block";
            		document.getElementById('courses').style.display = "none";
            		document.getElementById('missing').style.display = "none";
            		document.getElementById('settings').style.display = "none";
            		break;
            		case 3:
            		document.getElementById('data').style.display = "none";
            		document.getElementById('inventory').style.display = "none";
            		document.getElementById('courses').style.display = "block";
            		document.getElementById('missing').style.display = "none";
            		document.getElementById('settings').style.display = "none";
            		break;
            		case 4:
            		document.getElementById('data').style.display = "none";
            		document.getElementById('inventory').style.display = "none";
            		document.getElementById('courses').style.display = "none";
            		document.getElementById('missing').style.display = "block";
            		document.getElementById('settings').style.display = "none";
            		break;
            		case 5:
            		document.getElementById('data').style.display = "none";
            		document.getElementById('inventory').style.display = "none";
            		document.getElementById('courses').style.display = "none";
            		document.getElementById('missing').style.display = "none";
            		document.getElementById('settings').style.display = "block";
            		break;
            	}
            }

            makeCharacters();
</script>

</body>	
</html>
