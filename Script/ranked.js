//Global
var seasondefaultweek1cup = "Default";
var seasondefaultweek1cupname = "Unknown Cup";
var seasondefaultweek1courses = ["undefined","undefined","undefined"];

var seasondefaultweek2cup = "Default";
var seasondefaultweek2cupname = "Unknown Cup";
var seasondefaultweek2courses = [];

//Season 37
var season37week1cup = "King Boo";
var season37week1cupname = "King Boo Cup";
var season37week1endtime = 1603864800;
var season37week1courses = ["Classic_Gwii_MapleTreeway","Classic_Gds_LuigiMansion","Classic_G3ds_ShyGuyBazaarX"];

var season37week2cup = "Birdo";
var season37week2cupname = "Birdo Cup";
var season37week2endtime = 1604466000;
var season37week2courses = ["Classic_Gsfc_ChocoIsland2","Classic_G3ds_RainbowRoadRX","Classic_Gwii_MapleTreewayX"];
//Season 38
var season38week1cup = "Peach";
var season38week1cupname = "Peach Cup";
var season38week1endtime = 1605070800;
var season38week1courses = ["Classic_Gagb_SunsetWilds","Classic_G3ds_NeoBowserCityR","Classic_G3ds_MarioCircuitR"];

var season38week2cup = "Fire Bro";
var season38week2cupname = "Fire Bro Cup";
var season38week2endtime = 1605668400 + 3600 + 3600;
var season38week2courses = ["Classic_Ggc_DinoDinoJungleX","Classic_Gn64_KalimariDesert2R","Classic_Gagb_SunsetWildsX"];
//Season 39
var season39week1cup = "Mario";
var season39week1cupname = "Mario Cup";
var season39week1endtime = season38week2endtime + 604800;
var season39week1courses = ["Classic_Gsfc_MarioCircuit1RX","Classic_G3ds_MarioCircuitRX","Classic_Gagb_SunsetWildsRX"];

var season39week2cup = "Luigi";
var season39week2cupname = "Luigi Cup";
var season39week2endtime = season39week1endtime + 604800;
var season39week2courses = ["Classic_Gds_LuigiMansionRX","Classic_Gagb_BowserCastle2RX","Remix_Grsfc_RainbowRoad1RX"];

var season39cupbonusdriversw1 = ["82", "134"];
var season39cupbonuskartsw1 = ["70188", "70202"];
var season39cupbonusglidersw1 = ["30151", "30222"];
var season39cupbonusdriversw2 = ["91", "89"];
var season39cupbonuskartsw2 = ["70227", "70160"];
var season39cupbonusglidersw2 = ["30063", "30019"];
//Season 40
var season40week1cup = "Bowser";
var season40week1cupname = "Bowser Cup";
var season40week1endtime = season39week2endtime + 604800;
var season40week1courses = ["New_Gmob_HillClimb","Classic_G3ds_RainbowRoadR","Classic_G3ds_DaisyHillsR"];

var season40week2cup = "Rosalina";
var season40week2cupname = "Rosalina Cup";
var season40week2endtime = season40week1endtime + 604800;
var season40week2courses = ["Classic_Gn64_FrappeSnowland","New_Gmob_HillClimbX","Classic_Gsfc_RainbowRoadR"];
//Season 41
var season41week1cup = "Rosalina";
var season41week1cupname = "Rosalina Cup";
var season41week1endtime = season40week2endtime + 604800;
var season41week1courses = ["Classic_G3ds_RosettaPlanet","Classic_Gn64_PeachCircuit","Classic_Gsfc_RainbowRoad"];

var season41week2cup = "Hammer Bro";
var season41week2cupname = "Hammer Bro Cup";
var season41week2endtime = season41week1endtime + 604800;
var season41week2courses = ["Classic_Gn64_FrappeSnowland","New_Gmob_HillClimbX","Classic_Gsfc_RainbowRoadR"];

var season41cupbonusdriversw1 = [];
var season41cupbonuskartsw1 = ["70188", "70202"];
var season41cupbonusglidersw1 = ["30151", "30222"];
var season41cupbonusdriversw2 = ["91", "89"];
var season41cupbonuskartsw2 = ["70227", "70160"];
var season41cupbonusglidersw2 = ["30063", "30019"];
//Season 42
var season42week1cup = "Bowser Jr.";
var season42week1cupname = "Bowser Jr. Cup";
var season42week1endtime = season41week2endtime + 604800;
var season42week1courses = ["Remix_Grsfc_RainbowRoad2","Classic_Gsfc_VanillaLake1X","Classic_Gds_WaluigiPinball"];

var season42week2cup = "Dry Bowser";
var season42week2cupname = "Dry Bowser Cup";
var season42week2endtime = season42week1endtime + 604800;
var season42week2courses = ["Classic_Gn64_KalimariDesert","Remix_Grsfc_RainbowRoad2X","Classic_Gsfc_MarioCircuit2"];
//Season 43
var season43week1cup = "Luigi";
var season43week1cupname = "Luigi Cup";
var season43week1endtime = season42week2endtime + 604800;
var season43week1courses = ["New_Gmob_Berlin2","Classic_Gn64_KalimariDesert2R","Classic_Gds_WaluigiPinballR"];

var season43week2cup = "King Boo";
var season43week2cupname = "King Boo Cup";
var season43week2endtime = season43week1endtime + 604800;
<<<<<<< Updated upstream
var season43week2courses = ["Classic_Gds_KillerShip","New_Gmob_Berlin2X","Classic_Gsfc_KoopaTroopaBeach2X"];
=======
var season43week2courses = ["Classic_Gds_KillerShip","New_Gmob_Berlin2T","Classic_Gsfc_KoopaTroopaBeach2X"];
//Season 44
var season44week1endtime = season43week2endtime + 604800;
var season44week2endtime = season44week1endtime + 604800;
//Season 45
var season45week1cup = "Peach";
var season45week1cupname = "Peach Cup";
var season45week1endtime = season44week2endtime + 604800;
var season45week1courses = ["Remix_Grsfc_ChocoIsland2","Classic_Ggc_YoshiCircuitR","Classic_Gagb_BowserCastle2X"];

var season45week2cup = "Daisy";
var season45week2cupname = "Daisy Cup";
var season45week2endtime = season45week1endtime + 604800;
var season45week2courses = ["Remix_Grsfc_ChocoIsland2X","Classic_G3ds_DaisyHillsX","Classic_Gsfc_ChocoIsland1R"];

>>>>>>> Stashed changes
//Current Season
var currentseason = "Season45";
var currentweek = "Week1";
var currentendtime = 0;

var currentseasoncup = "";
var currentseasoncupname = "";
var currentseasoncourses = [];

var currentseasonweek1cup = season45week1cup;
var currentseasonweek1cupname = season45week1cupname;
var currentseasonweek1courses = season45week1courses;

var currentseasonweek2cup = season45week2cup;
var currentseasonweek2cupname = season45week2cupname;
var currentseasonweek2courses = season45week2courses;

function getCurrentRanked(){
	var epoch = Math.round((new Date()).getTime() / 1000);
	if(epoch <= season45week1endtime){
	currentweek = "Week1";
  currentseason = "Season45";
	currentendtime = season45week1endtime;
	currentseasoncup = currentseasonweek1cup;
	currentseasoncupname = currentseasonweek1cupname;
	currentseasoncourses = currentseasonweek1courses;
	} else if(epoch <= season45week2endtime){
	currentweek = "Week2";
  currentseason = "Season45";
	currentendtime = season45week2endtime;
	currentseasoncup = currentseasonweek2cup;
	currentseasoncupname = currentseasonweek2cupname;
	currentseasoncourses = currentseasonweek2courses;
	} else if(epoch >= season43week2endtime){
	currentweek = "Default";
  currentseason = "Default";
  currentendtime = season45week2endtime;
  currentseasoncup = seasondefaultweek2cup;
  currentseasoncupname = seasondefaultweek2cupname;
  currentseasoncourses = seasondefaultweek2courses;
	}
}

function updateRanked(){
	switch(currentweek){
		case "Week1":
		document.getElementById('cupnamecurrent').innerHTML = currentseasonweek1cupname;
    document.getElementById('rankcupimgranked').src = `./Images/Cups/${currentseasonweek1cup} Cup.png`;
		break;
		case "Week2":
		document.getElementById('cupnamecurrent').innerHTML = currentseasonweek2cupname;
    document.getElementById('rankcupimgranked').src = `./Images/Cups/${currentseasonweek2cup} Cup.png`;
		break;
    case "Default":
    document.getElementById('cupnamecurrent').innerHTML = currentseasoncupname;
    document.getElementById('rankcupimgranked').src = `./Images/Cups/${currentseasoncup} Cup.png`;
    break;
	}
    document.getElementById('rankcourseimg1').src = `./Images/Ranked Icon/${currentseason}/${currentweek}/${currentseasoncourses[0]}.png`;
    document.getElementById('rankcourseimg2').src = `./Images/Ranked Icon/${currentseason}/${currentweek}/${currentseasoncourses[1]}.png`;
    document.getElementById('rankcourseimg3').src = `./Images/Ranked Icon/${currentseason}/${currentweek}/${currentseasoncourses[2]}.png`;
    document.getElementById('rankedcoursetxt1').innerHTML = coursenames[currentseasoncourses[0]];
    document.getElementById('rankedcoursetxt2').innerHTML = coursenames[currentseasoncourses[1]];
    document.getElementById('rankedcoursetxt3').innerHTML = coursenames[currentseasoncourses[2]];
    if(currentseason == "Default"){
    document.getElementById('rankcourseimg1').src = `./Images/Ranked Icon/Default/Default/Under Construction.png`;
    document.getElementById('rankcourseimg2').src = `./Images/Ranked Icon/Default/Default/Under Construction.png`;
    document.getElementById('rankcourseimg3').src = `./Images/Ranked Icon/Default/Default/Under Construction.png`;
    document.getElementById('rankedcoursetxt1').innerHTML = "Under Construction";
    document.getElementById('rankedcoursetxt2').innerHTML = "Under Construction";
    document.getElementById('rankedcoursetxt3').innerHTML = "Under Construction";
    }
    rankedCourses();
}

function rankedCourses(){
	document.getElementById('rankedcourses').innerHTML = "";
       let output = document.getElementById('rankedcourses');

        currentseasoncourses.forEach((t,i)=>{ 
                //document.getElementById(`selectcourse_${t}`).className = "coursepanelselected";
                     var coursePanel = document.createElement('div');
       coursePanel.className = 'coursepanelslc';
       coursePanel.id = `coursets_${t}`;

       let bgimg = document.createElement('img');
       //let bgindex = courseimages.indexOf(t);
       bgimg.src = `./Images/Course Background/${courseimages[t]}.png`;
       bgimg.className = 'coursebgimg';
       coursePanel.appendChild(bgimg);

       let courseimg = document.createElement('img');
       courseimg.src = `./Images/Course Image/${t}.png`;
       courseimg.className = 'courseimgslc';
       courseimg.style.cursor = "default";
       courseimg.style.color = "gold";
       //courseimg.style.zoom = "90%"
       /*courseimg.addEventListener('click', function() {
            selectCourse(t);
        });*/
       coursePanel.appendChild(courseimg);

       let coursetxt = document.createElement('p');
       coursetxt.innerHTML = coursenames[t];
       coursetxt.className = 'coursetxtslc';
       coursetxt.style.color = "gold";
       switch(t){
        case "Classic_Gn64_KoopaTroopaBeachRX":
        coursetxt.style.fontSize = "15.5px";
        break;
        case "Classic_Gsfc_KoopaTroopaBeach2X":
        coursetxt.style.fontSize = "16px";
        break;
        case "Classic_Gsfc_KoopaTroopaBeach2R":
        coursetxt.style.fontSize = "16px";
        break;
        case "Classic_G3ds_CheepCheepLagoonX":
        coursetxt.style.fontSize = "16px";
        break;
        case "Classic_G3ds_CheepCheepLagoonR":
        coursetxt.style.fontSize = "16px";
        break;
        case "Classic_G3ds_CheepCheepLagoonRX":
        coursetxt.style.fontSize = "15px";
        break;
        case "Remix_Grsfc_RainbowRoad1RX":
        coursetxt.style.fontSize = "15.5px";
        break;
       }
       //coursetxt.style.zoom = "90%"
       coursePanel.appendChild(coursetxt);

       let combTS = document.createElement('div');
       combTS.className = 'combTS'

       let combTS2 = document.createElement('div');
       combTS2.className = 'combTS'

       let bgimgCombTS = document.createElement('img');
       //let bgindex = courseimages.indexOf(t);
       bgimgCombTS.src = `./Images/Course Background/${courseimages[t]}.png`;
       bgimgCombTS.className = 'coursebgimgCombTS';
       combTS.appendChild(bgimgCombTS);

       let bgimgCombTS2 = document.createElement('img');
       //let bgindex = courseimages.indexOf(t);
       bgimgCombTS2.src = `./Images/Course Background/${courseimages[t]}.png`;
       bgimgCombTS2.className = 'coursebgimgCombTS';
       combTS2.appendChild(bgimgCombTS2);

       let currentcourse = {
      "moreGoodAt": {
        "Drivers": [],
        "Karts": [],
        "Gliders": []
      },
      "goodAt": {
        "Drivers": [],
        "Karts": [],
        "Gliders": []
      },
      "unlock3": {
        "Drivers": [],
        "Karts": [],
        "Gliders": []
      },
      "unlock6": {
        "Drivers": [],
        "Karts": [],
        "Gliders": []
      }
       };
       coursedata.Courses[t].moreGoodAt.Drivers.forEach((t,i)=>{ 
        currentcourse.moreGoodAt.Drivers.push(t);
       });
       coursedata.Courses[t].moreGoodAt.Karts.forEach((t,i)=>{ 
        currentcourse.moreGoodAt.Karts.push(t);
       });
       coursedata.Courses[t].moreGoodAt.Gliders.forEach((t,i)=>{ 
        currentcourse.moreGoodAt.Gliders.push(t);
       });
       coursedata.Courses[t].goodAt.Drivers.forEach((t,i)=>{ 
        currentcourse.goodAt.Drivers.push(t);
       });
       coursedata.Courses[t].goodAt.Karts.forEach((t,i)=>{ 
        currentcourse.goodAt.Karts.push(t);
       });
       coursedata.Courses[t].goodAt.Gliders.forEach((t,i)=>{ 
        currentcourse.goodAt.Gliders.push(t);
       });
       coursedata.Courses[t].unlock3.Drivers.forEach((t,i)=>{ 
        currentcourse.unlock3.Drivers.push(t);
       });
       coursedata.Courses[t].unlock3.Karts.forEach((t,i)=>{ 
        currentcourse.unlock3.Karts.push(t);
       });
       coursedata.Courses[t].unlock3.Gliders.forEach((t,i)=>{ 
        currentcourse.unlock3.Gliders.push(t);
       });
       coursedata.Courses[t].unlock6.Drivers.forEach((t,i)=>{ 
        currentcourse.unlock6.Drivers.push(t);
       });
       coursedata.Courses[t].unlock6.Karts.forEach((t,i)=>{ 
        currentcourse.unlock6.Karts.push(t);
       });
       coursedata.Courses[t].unlock6.Gliders.forEach((t,i)=>{ 
        currentcourse.unlock6.Gliders.push(t);
       });
       //KEEP IN MIND THESE ARE n-1
       if(currentweek == "Week1"){
       if(i == 0){
        
       }
       if(i == 1){

       }
       if(i == 2){

       }

       }
       if(currentweek == "Week2"){
       if(i == 0){

       }
       if(i == 1){
        currentcourse.moreGoodAt.Drivers.push("159");
       }
       if(i == 2){

       }

       }
       //console.log(currentcourse);
       let topshelves = [];
       let topshelvestypes = [];

       for(var m = 0; m<2;m++){
       for(var x = 0; x<3;x++){
       var topShelfPanel = document.createElement('div');
       topShelfPanel.className = 'coursepreviewselectedpanel';
       if(selectedcourses.includes(t)){
              coursePanel.className = `coursepanelslcselected`;
       }

       topshelves.splice(0,topshelves.length);
       topshelvestypes.splice(0,topshelvestypes.length);



       if(!isDataEntered){
       if(m == 0){
       switch(x){
              case 0:
              currentcourse.moreGoodAt.Drivers.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 1:
              currentcourse.moreGoodAt.Karts.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 2:
              currentcourse.moreGoodAt.Gliders.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
       }

       switch(x){
              case 0:
              currentcourse.unlock3.Drivers.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Drivers.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 1:
              currentcourse.unlock3.Karts.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Karts.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 2:
              currentcourse.unlock3.Gliders.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Gliders.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
       }
       }
       if(m == 1){
              switch(x){
              case 0:
              currentcourse.goodAt.Drivers.forEach((t,i)=>{ 
              topshelves.push(t)
              });
              break;
              case 1:
              currentcourse.goodAt.Karts.forEach((t,i)=>{ 
              topshelves.push(t)
              });
              break;
              case 2:
              currentcourse.goodAt.Gliders.forEach((t,i)=>{ 
              topshelves.push(t)
              });
              break;
              }
       }
       
     }
     if(isDataEntered){
      if(m == 0){
        switch(x){
              case 0:
              currentcourse.moreGoodAt.Drivers.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 1:
              currentcourse.moreGoodAt.Karts.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 2:
              currentcourse.moreGoodAt.Gliders.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
       }

       switch(x){
              case 0:
              currentcourse.unlock3.Drivers.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Drivers.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 1:
              currentcourse.unlock3.Karts.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Karts.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 2:
              currentcourse.unlock3.Gliders.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Gliders.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
       }
     }
     if(m == 1){
              switch(x){
              case 0:
              currentcourse.goodAt.Drivers.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 1:
              currentcourse.goodAt.Karts.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
              case 2:
              currentcourse.goodAt.Gliders.forEach((t,i)=>{ 
              topshelves.push(t)
              topshelvestypes.push('0');
              });
              break;
       }

       switch(x){
              case 0:
              currentcourse.unlock3.Drivers.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Drivers.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 1:
              currentcourse.unlock3.Karts.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Karts.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
              case 2:
              currentcourse.unlock3.Gliders.forEach((t,i)=>{ 
              //unlock3topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('1');
              });
              currentcourse.unlock6.Gliders.forEach((t,i)=>{ 
              //unlock6topshelves.push(t)
              topshelves.push(t)
              topshelvestypes.push('2');
              });
              break;
       }
       }

       let tempOwned = [];
       let tempNotOwned = [];
       let temp3Owned = [];
       let temp6Owned = [];
       let temp3NotLeveled = [];
       let temp6NotLeveled = [];
       let temp3NotOwned = [];
       let temp6NotOwned = [];
       //0 = Owned
       //1 = Owned Unlock 3
       //2 = Owned Unlock 6
       //3 = Not Owned
       //4 = Not Owned Unlock 3
       //5 = Not Owned Unlock 6

       if(m == 0){
            switch(x){
              case 0:
              currentcourse.moreGoodAt.Drivers.forEach((t,i)=>{ 
                     if(savedata.Items.Drivers[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              case 1:
              currentcourse.moreGoodAt.Karts.forEach((t,i)=>{ 
                     if(savedata.Items.Karts[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              case 2:
              currentcourse.moreGoodAt.Gliders.forEach((t,i)=>{ 
                     if(savedata.Items.Gliders[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              }  

       switch(x){
              case 0:
              currentcourse.unlock3.Drivers.forEach((t,i)=>{ 
                if(savedata.Items.Drivers[t] != null){
                     temp3Owned.push(t)
                } else {
                     temp3NotOwned.push(t)       
                }

              //unlock3topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('1');
              });
              currentcourse.unlock6.Drivers.forEach((t,i)=>{ 
                if(savedata.Items.Drivers[t] != null){
                     temp6Owned.push(t)
                } else {
                     temp6NotOwned.push(t)       
                }
              //unlock6topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('2');
              });
              break;
              case 1:
              currentcourse.unlock3.Karts.forEach((t,i)=>{ 
                if(savedata.Items.Karts[t] != null){
                     temp3Owned.push(t)
                } else {
                     temp3NotOwned.push(t)       
                }
              //unlock3topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('1');
              });
              currentcourse.unlock6.Karts.forEach((t,i)=>{ 
                if(savedata.Items.Karts[t] != null){
                     temp6Owned.push(t)
                } else {
                     temp6NotOwned.push(t)       
                }
              //unlock6topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('2');
              });
              break;
              case 2:
              currentcourse.unlock3.Gliders.forEach((t,i)=>{ 
                if(savedata.Items.Gliders[t] != null){
                     temp3Owned.push(t)
                } else {
                     temp3NotOwned.push(t)       
                }
              //unlock3topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('1');
              });
              currentcourse.unlock6.Gliders.forEach((t,i)=>{ 
                if(savedata.Items.Gliders[t] != null){
                     temp6Owned.push(t)
                } else {
                     temp6NotOwned.push(t)       
                }
              //unlock6topshelves.push(t)
              //topshelves.push(t)
              //topshelvestypes.push('2');
              });
              break;
       }
      }
      if(m == 1){
              tempOwned.splice(0,tempOwned.length);
              tempNotOwned.splice(0,tempNotOwned.length);
              switch(x){
              case 0:
              currentcourse.goodAt.Drivers.forEach((t,i)=>{ 
              if(savedata.Items.Drivers[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              case 1:
              currentcourse.goodAt.Karts.forEach((t,i)=>{ 
              if(savedata.Items.Karts[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              case 2:
              currentcourse.goodAt.Gliders.forEach((t,i)=>{ 
              if(savedata.Items.Gliders[t] != null){
                     tempOwned.push(t)
                     } else {
                     tempNotOwned.push(t)       
                     }
              });
              break;
              }
            }




       topshelves.splice(0,topshelves.length);
       topshelvestypes.splice(0,topshelvestypes.length);

       //topshelves = tempOwned.concat(tempNotOwned);
       topshelves = topshelves.concat(tempOwned);
       topshelves = tempOwned.concat(temp3Owned);
       topshelves = topshelves.concat(temp6Owned);
       topshelves = topshelves.concat(tempNotOwned);
       topshelves = topshelves.concat(temp3NotOwned);
       topshelves = topshelves.concat(temp6NotOwned);
       //console.log(topshelvestypes);
       //0 = Owned
       //1 = Owned Unlock 3
       //2 = Owned Unlock 6
       //3 = Not Owned
       //4 = Not Owned Unlock 3
       //5 = Not Owned Unlock 6
       tempOwned.forEach((t,i)=>{ 
          topshelvestypes.push('0');
       });
       temp3Owned.forEach((t,i)=>{ 
          topshelvestypes.push('1');
       });
       temp6Owned.forEach((t,i)=>{ 
          topshelvestypes.push('2');
       });
       tempNotOwned.forEach((t,i)=>{ 
          topshelvestypes.push('3');
       });
       temp3NotOwned.forEach((t,i)=>{ 
          topshelvestypes.push('4');
       });
       temp6NotOwned.forEach((t,i)=>{ 
          topshelvestypes.push('5');
       });
       console.log("tempNotOwned");
       console.log(tempNotOwned);
       console.log("temp3NotOwned");
       console.log(temp3NotOwned);
       console.log("temp6NotOwned");
       console.log(temp6NotOwned);
     }//isdataentered


       topshelves.forEach((t,i)=>{ 
       var panel = document.createElement('div');
        panel.className = 'ckgpanel';
        //panel.style.zoom = "75%"
        panel.id = `coursetscharpanel${t}`;
        switch(x){
          case 0:
          panel.addEventListener('click', function() {
            invCharacter(t);
          });
          break;
          case 1:
          panel.addEventListener('click', function() {
            invKart(t);
          });
          break;
          case 2:
          panel.addEventListener('click', function() {
            invGlider(t);
          });
          break;
        }

        let bottomimg = document.createElement('img');
        switch(x){

       case 0:
        switch (charrarity[characterid.indexOf(t)]) {
        case "1":
            bottomimg.src = `./Images/UI/bgnormal.png`;
            break;
        case "2":
            bottomimg.src = `./Images/UI/bgrare.png`;
            break;
        case "3":
            bottomimg.src = `./Images/UI/bghighend.png`;
            break;
        }
        break;
        case 1:
        switch (kartrarity[kartid.indexOf(t)]) {
        case "1":
            bottomimg.src = `./Images/UI/bgnormalkg.png`;
            break;
        case "2":
            bottomimg.src = `./Images/UI/bgrarekg.png`;
            break;
        case "3":
            bottomimg.src = `./Images/UI/bghighendkg.png`;
            break;
        }
        break;
        case 2:
        switch (gliderrarity[gliderid.indexOf(t)]) {
        case "1":
            bottomimg.src = `./Images/UI/bgnormalkg.png`;
            break;
        case "2":
            bottomimg.src = `./Images/UI/bgrarekg.png`;
            break;
        case "3":
            bottomimg.src = `./Images/UI/bghighendkg.png`;
            break;
        }
        break;
       }
        bottomimg.className = 'bottomimg';
        panel.appendChild(bottomimg);

        let newItem = document.createElement('img');
        switch(x){
              case 0:
              newItem.className = 'newCharacter';
              newItem.src = `./Images/Character Icon/${t}.png`;
              break;
              case 1:
              newItem.className = 'newKart';
              newItem.src = `./Images/Kart Icon/${t}.png`;
              break;
              case 2:
              newItem.className = 'newGlider';
              newItem.src = `./Images/Glider Icon/${t}.png`;
              break;
       }
        panel.appendChild(newItem);

        let topimg = document.createElement('img');
        switch (x){
        case 0:
        switch (charrarity[characterid.indexOf(t)]) {
        case "1":
            topimg.src = `./Images/UI/outlinenormalchar.png`;
            break;
        case "2":
            topimg.src = `./Images/UI/outlinerarechar.png`;
            break;
        case "3":
            topimg.src = `./Images/UI/outlinehighendchar.png`;
            break;
        }
        break;
        case 1:
        switch (kartrarity[kartid.indexOf(t)]) {
        case "1":
            topimg.src = `./Images/UI/outlinenormal.png`;
            break;
        case "2":
            topimg.src = `./Images/UI/outlinerare.png`;
            break;
        case "3":
            topimg.src = `./Images/UI/outlinehighend.png`;
            break;
        }
        break;
        case 2:
        switch (gliderrarity[gliderid.indexOf(t)]) {
        case "1":
            topimg.src = `./Images/UI/outlinenormal.png`;
            break;
        case "2":
            topimg.src = `./Images/UI/outlinerare.png`;
            break;
        case "3":
            topimg.src = `./Images/UI/outlinehighend.png`;
            break;
        }
        break;
       }
        topimg.className = 'topimg';
        /*if (viewshelvechar.includes(t)) {
            topimg.className = 'invtopimgselected';
        }*/
        topimg.id = `coursetopimgselected${t}`;
        panel.appendChild(topimg);

        let charaitem = document.createElement('img');
        switch(x){
        case 0:
        charaitem.src = `./Images/Items/` + charitem[characterid.indexOf(t)] + `.png`;
        charaitem.className = 'itemboxitem';
        break;
        case 1:
        charaitem.src = `./Images/Items/` + kartitem[kartid.indexOf(t)] + `.png`;
        charaitem.className = 'bonuspointtype';
        break;
        case 2:
        charaitem.src = `./Images/Items/` + glideritem[gliderid.indexOf(t)] + `.png`;
        charaitem.className = 'bonuspointtype';
        break;
       }
        panel.appendChild(charaitem);


        let itemlvl = 0;
        switch(x){
              case 0:
              itemlvl = savedata.Items.Drivers[t];
              break;
              case 1:
              itemlvl = savedata.Items.Karts[t];
              break;
              case 2:
              itemlvl = savedata.Items.Gliders[t];
              break;
        }
        if(m == 0){
          if (itemlvl != null && isDataEntered && topshelvestypes[i] == 0) {
            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/${itemlvl}.png`;
            levelicon.className = 'levelicon';
            levelicon.id = `coursets_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lvicon';
            panel.appendChild(lvicon);
        } else {
              panel.className = 'ckgpaneldisabled';
        }

        if(!isDataEntered){
              panel.className = 'ckgpanel';
              switch(topshelvestypes[i]){
                case "0":
                break;
                case "1":
            let lockimg = document.createElement('img');
            lockimg.src = `./Images/UI/lock.png`;
            lockimg.className = 'courselockimgts';
            lockimg.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg);

            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/3.png`;
            levelicon.className = 'leveliconunlockts';
            levelicon.style.filter = "grayscale(0%)";
            levelicon.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lviconunlockts';
            lvicon.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon);
                break;
                case "2":
            let lockimg2 = document.createElement('img');
            lockimg2.src = `./Images/UI/lock.png`;
            lockimg2.className = 'courselockimgts';
            lockimg2.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg2);

            let levelicon2 = document.createElement('img');
            levelicon2.src = `./Images/UI/6.png`;
            levelicon2.className = 'leveliconunlockts';
            levelicon2.style.filter = "grayscale(0%)";
            levelicon2.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon2);

            let lvicon2 = document.createElement('img');
            lvicon2.src = './Images/UI/lv.png';
            lvicon2.className = 'lviconunlockts';
            lvicon2.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon2);
                break;
              }
        }

        if(isDataEntered){
          switch(topshelvestypes[i]){
                case "0":
                break;
                case "1":
            panel.className = 'ckgpanel';
            if(itemlvl < 3){
            let lockimg = document.createElement('img');
            lockimg.src = `./Images/UI/lock.png`;
            lockimg.className = 'courselockimgts';
            lockimg.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg);

            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/3.png`;
            levelicon.className = 'leveliconunlockts';
            levelicon.style.filter = "grayscale(0%)";
            levelicon.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lviconunlockts';
            lvicon.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon);
            } else {
            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/${itemlvl}.png`;
            levelicon.className = 'levelicon';
            levelicon.id = `coursets_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lvicon';
            panel.appendChild(lvicon);
            }
                break;
                case "2":
            panel.className = 'ckgpanel';
            if(itemlvl < 6){
            let lockimg2 = document.createElement('img');
            lockimg2.src = `./Images/UI/lock.png`;
            lockimg2.className = 'courselockimgts';
            lockimg2.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg2);

            let levelicon2 = document.createElement('img');
            levelicon2.src = `./Images/UI/6.png`;
            levelicon2.className = 'leveliconunlockts';
            levelicon2.style.filter = "grayscale(0%)";
            levelicon2.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon2);

            let lvicon2 = document.createElement('img');
            lvicon2.src = './Images/UI/lv.png';
            lvicon2.className = 'lviconunlockts';
            lvicon2.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon2);
            } else {
            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/${itemlvl}.png`;
            levelicon.className = 'levelicon';
            levelicon.id = `coursets_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lvicon';
            panel.appendChild(lvicon);
            }
                break;
                case "3":
                break;
                case "4":
            let lockimg3 = document.createElement('img');
            lockimg3.src = `./Images/UI/lock.png`;
            lockimg3.className = 'courselockimgts';
            lockimg3.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg3);

            let levelicon3 = document.createElement('img');
            levelicon3.src = `./Images/UI/3.png`;
            levelicon3.className = 'leveliconunlockts';
            levelicon3.style.filter = "grayscale(0%)";
            levelicon3.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon3);

            let lvicon3 = document.createElement('img');
            lvicon3.src = './Images/UI/lv.png';
            lvicon3.className = 'lviconunlockts';
            lvicon3.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon3);
                break;
                case "5":
            let lockimg4 = document.createElement('img');
            lockimg4.src = `./Images/UI/lock.png`;
            lockimg4.className = 'courselockimgts';
            lockimg4.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg4);

            let levelicon4 = document.createElement('img');
            levelicon4.src = `./Images/UI/6.png`;
            levelicon4.className = 'leveliconunlockts';
            levelicon4.style.filter = "grayscale(0%)";
            levelicon4.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon4);

            let lvicon4 = document.createElement('img');
            lvicon4.src = './Images/UI/lv.png';
            lvicon4.className = 'lviconunlockts';
            lvicon4.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon4);
                break;
              }
        }//isdatanetered
        }
        if(m == 1){
        if (itemlvl != null && isDataEntered) {
            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/${itemlvl}.png`;
            levelicon.className = 'levelicon';
            levelicon.id = `coursets_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lvicon';
            panel.appendChild(lvicon);
        } else {
              panel.className = 'ckgpaneldisabled';
        }
      

        if(!isDataEntered){
              panel.className = 'ckgpanel';
              switch(topshelvestypes[i]){
                case "0":
                break;
                case "1":
            let lockimg = document.createElement('img');
            lockimg.src = `./Images/UI/lock.png`;
            lockimg.className = 'courselockimgts';
            lockimg.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg);

            let levelicon = document.createElement('img');
            levelicon.src = `./Images/UI/3.png`;
            levelicon.className = 'leveliconunlockts';
            levelicon.style.filter = "grayscale(0%)";
            levelicon.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon);

            let lvicon = document.createElement('img');
            lvicon.src = './Images/UI/lv.png';
            lvicon.className = 'lviconunlockts';
            lvicon.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon);
                break;
                case "2":
            let lockimg2 = document.createElement('img');
            lockimg2.src = `./Images/UI/lock.png`;
            lockimg2.className = 'courselockimgts';
            lockimg2.style.filter = "grayscale(0%)";
            panel.appendChild(lockimg2);

            let levelicon2 = document.createElement('img');
            levelicon2.src = `./Images/UI/6.png`;
            levelicon2.className = 'leveliconunlockts';
            levelicon2.style.filter = "grayscale(0%)";
            levelicon2.id = `inv_levelnumber${t}`;
            panel.appendChild(levelicon2);

            let lvicon2 = document.createElement('img');
            lvicon2.src = './Images/UI/lv.png';
            lvicon2.className = 'lviconunlockts';
            lvicon2.style.filter = "grayscale(0%)";
            panel.appendChild(lvicon2);
                break;
              }
        }
      }

        topShelfPanel.appendChild(panel);
              });
       switch(m){
       case 0:
       combTS.appendChild(topShelfPanel);
       break;
       case 1:
       combTS2.appendChild(topShelfPanel);
       break;
       }
       }
       coursePanel.appendChild(combTS);
       coursePanel.appendChild(combTS2);
       }
       output.appendChild(coursePanel);
       });
}
